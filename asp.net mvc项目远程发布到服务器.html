<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>asp.net mvc项目远程发布到服务器</title>
</head>
<body>
<div id="myContain">
    <h3 class="myH3">文章参考</h3>
    <ul>
        <li><a href="http://www.cnblogs.com/powertoolsteam/p/MVC_knowledge.html">自学MVC看这里——全网最全ASP.NET MVC 教程汇总</a></li>
        <li><a href="http://www.cnblogs.com/potential/p/3751426.htm">图文详解远程部署ASP.NET MVC 5项目</a></li>
        <li><a href="https://technet.microsoft.com/en-us/library/dd722796(v=ws.10).aspx">配置Web部署处理程序</a></li>
    </ul>
    <p><a href=""></a></p>
    <h3 class="myH3">设备及环境</h3>
    <ul>
        <li>一台装有windows server 2012的台式机</li>
        <li>一台装有win10的台式机</li>
        <li>win10上软件使用：visual studio2017(2015也试过是可以的)</li>
    </ul>
    <h3 class="myH3">windows server上的部署(多图预警)</h3>
    <!--<div><img src="https://qianyinghuanmie.github.io/static/img/mulu.png" alt="" /></div>-->
    <!--<h3 class="myH3">项目搭建步骤</h3>-->
    <h5 class="myH5">第一步、安装windows server 2012，并开始配置环境</h5>
    <p class="smallTitle">1、安装完毕后，会出现服务器仪表盘，开始添加角色和功能</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/1.png" alt="" class="myImg"></p>
    <p class="smallTitle">2、添加所要的角色和功能</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/2.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/3.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/4.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/5.png" alt="" class="myImg"></p>
    <p class="notice">注意：在安装结束前后可能需要重启服务器</p>
    <h5 class="myH5">第二步、检查服务是否安装成功</h5>
    <p  class="smallTitle">装完角色和功能以后，在仪表盘左边会有IIS的项。点击右上角的工具进入IIS管理器</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/6.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/7.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/8.png" alt="" width="400"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/9.png" alt="" class="myImg"></p>
    <h5 class="myH5">第三步、windows server先暂时配置到这里，开始进入window10,也是本机的设置</h5>
    <p>1、安装visual studio2017，本文安装的是2017社区免费版(2015也是差不多配置)</p>
    <p>2、创建mvc项目，文章那一栏中，有博友无私奉献了非常好的教程，没有接触过的可以参考，这里只是建立一个最原始的项目。</p>
    <p>3、开始创建项目</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/10.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/11.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/12.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/13.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/14.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/15.png" alt="" class="myImg"></p>
    <p class="notice">说明：发布有很多种方法，可以通过文件系统发布，也可以通过Ftp发布，文件系统最简单，估计用的人也是挺多，只要在本机发布好，再拖到服务器上就可以了
    但是，如果你使用过IIS发布到远程服务器的话，保证你再也不会拖文件夹了。</p>
    <h5 class="myH5">第四步，回到windows server,创建站点，并安装web deploy</h5>
    <p class="smallTitle">1、创建站点</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/16.png" alt="" class="myImg"></p>
    <p class="smallTitle">2、配置用户(后续使用这个用户进行连接)</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/17.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/18.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/19.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/20.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/21.png" alt="" class="myImg"></p>
    <p class="smallTitle">3、安装web Deploy</p>
    <p>这是安装地址 <a href="http://www.iis.net/downloads/microsoft/web-deploy">http://www.iis.net/downloads/microsoft/web-deploy</a></p>
    <p class="notice">安装的时候切记要选择完整版，不然会出现仍然无法连接</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/22.png" alt="" class="myImg"></p>
    <p class="smallTitle">4、安装web Deploy后，同样查看服务，之前没有出现的web部署就出现了，启动它</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/23.png" alt="" class="myImg"></p>
    <h5 class="myH5">第五步，在visual studio2017进行发布</h5>
    <p>开始验证连接，这个时候终于连接成功了</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/24.png" alt="" class="myImg"></p>
    <p>速度点击下一步进行发布吧，当信心满满以为能够发布成功的时候，会出现没有授权的错误提示</p>
    <p class="notice">印象中好像是这样的：在使用web管理服务进行连接时未能使用指定的应用程序 contentpath………………</p>
    <h5 class="myH5">第六步，在windows server 去修改管理委派规则</h5>
    <p>委派成功以后再进行发布</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/25.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/26.png" alt="" class="myImg"></p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/27.png" alt="" class="myImg"></p>
    <p class="notice">添加完规则以后,再去进行发布</p>
    <p><img src="https://qianyinghuanmie.github.io/static/img/blog/asp-mvc/28.png" alt="" class="myImg"></p>
    <h3 class="myH3">总结</h3>
    <p>当在测试频繁，修改频繁的时候，推荐使用这样去发布。</p>
</div>
<style><!--
#myContain .myH3{
    background-color: #e2e7e6;
    color: darkgoldenrod;
    line-height:3rem;
    text-indent: 1em;
    font-size: 20px;
}
#myContain p{
    padding-left: 2em;
    line-height: 1.4em;
    font-size: 15px;
}
#myContain p .myImg{
    width: 700px!important;
    height: auto;
}
#myContain a{
    color: darkorange;
}
#myContain .myH5{
    text-indent: 3em;
    font-size: 16px;
    color: cornsilk;
    background-color: darkgray;
    line-height:2em;
}
.notice{
    color: red;
}
.smallTitle{
    font-size: 14px;
    color: brown;
}
--></style>
</body>
</html>